"use strict";(self.webpackChunkprofilebook_frontend=self.webpackChunkprofilebook_frontend||[]).push([[176],{9176:(C,l,d)=>{d.r(l),d.d(l,{MyPostsComponent:()=>x});var c=d(177),i=function(s){return s[s.Pending=0]="Pending",s[s.Approved=1]="Approved",s[s.Rejected=2]="Rejected",s}(i||{}),t=d(4438),p=d(1032);function m(s,r){1&s&&(t.j41(0,"div",14)(1,"div",15)(2,"span",16),t.EFF(3,"Loading your posts..."),t.k0s()(),t.j41(4,"p",17),t.EFF(5,"Loading your posts..."),t.k0s()())}function g(s,r){1&s&&(t.j41(0,"div",14),t.nrm(1,"i",18),t.j41(2,"h5",19),t.EFF(3,"No posts yet"),t.k0s(),t.j41(4,"p",19),t.EFF(5,"You haven't created any posts yet. Start sharing your thoughts!"),t.k0s(),t.j41(6,"a",20),t.nrm(7,"i",21),t.EFF(8,"Create Your First Post "),t.k0s()())}function u(s,r){if(1&s&&(t.j41(0,"div",22)(1,"div",23)(2,"div",24)(3,"h3",25),t.EFF(4),t.k0s(),t.j41(5,"small",19),t.EFF(6,"Total Posts"),t.k0s()()(),t.j41(7,"div",23)(8,"div",24)(9,"h3",26),t.EFF(10),t.k0s(),t.j41(11,"small",19),t.EFF(12,"Approved"),t.k0s()()(),t.j41(13,"div",23)(14,"div",24)(15,"h3",27),t.EFF(16),t.k0s(),t.j41(17,"small",19),t.EFF(18,"Pending"),t.k0s()()()()),2&s){const e=t.XpG();t.R7$(4),t.JRh(e.getTotalPosts()),t.R7$(6),t.JRh(e.getApprovedPosts()),t.R7$(6),t.JRh(e.getPendingPosts())}}function f(s,r){if(1&s){const e=t.RV6();t.j41(0,"div",28)(1,"div",29)(2,"button",30),t.bIt("click",function(){t.eBV(e);const n=t.XpG();return t.Njj(n.setFilter("all"))}),t.EFF(3," All Posts "),t.k0s(),t.j41(4,"button",30),t.bIt("click",function(){t.eBV(e);const n=t.XpG();return t.Njj(n.setFilter("approved"))}),t.EFF(5," Approved "),t.k0s(),t.j41(6,"button",30),t.bIt("click",function(){t.eBV(e);const n=t.XpG();return t.Njj(n.setFilter("pending"))}),t.EFF(7," Pending "),t.k0s(),t.j41(8,"button",30),t.bIt("click",function(){t.eBV(e);const n=t.XpG();return t.Njj(n.setFilter("rejected"))}),t.EFF(9," Rejected "),t.k0s()()()}if(2&s){const e=t.XpG();t.R7$(2),t.AVh("btn-primary","all"===e.selectedFilter)("btn-outline-primary","all"!==e.selectedFilter),t.R7$(2),t.AVh("btn-success","approved"===e.selectedFilter)("btn-outline-success","approved"!==e.selectedFilter),t.R7$(2),t.AVh("btn-warning","pending"===e.selectedFilter)("btn-outline-warning","pending"!==e.selectedFilter),t.R7$(2),t.AVh("btn-danger","rejected"===e.selectedFilter)("btn-outline-danger","rejected"!==e.selectedFilter)}}function _(s,r){if(1&s&&t.nrm(0,"img",43),2&s){const e=t.XpG().$implicit;t.Y8G("src",e.postImagePath,t.B4B)}}function v(s,r){if(1&s&&(t.j41(0,"div",44)(1,"h6",45),t.nrm(2,"i",46),t.EFF(3,"Admin Feedback "),t.k0s(),t.j41(4,"p",5),t.EFF(5),t.k0s()()),2&s){const e=t.XpG().$implicit;t.R7$(5),t.JRh(e.adminComments)}}function h(s,r){if(1&s&&(t.j41(0,"span"),t.EFF(1),t.k0s()),2&s){const e=t.XpG(2).$implicit;t.R7$(),t.SpI(" by ",e.approvedByUserName,"")}}function b(s,r){if(1&s&&(t.j41(0,"div",47),t.nrm(1,"i",48),t.EFF(2),t.DNE(3,h,2,1,"span",49),t.k0s()),2&s){const e=t.XpG().$implicit,o=t.XpG(2);t.R7$(2),t.SpI(" Approved ",o.formatDate(e.approvedAt)," "),t.R7$(),t.Y8G("ngIf",e.approvedByUserName)}}function F(s,r){if(1&s&&(t.j41(0,"div",50)(1,"span",19),t.nrm(2,"i",51),t.EFF(3),t.k0s(),t.j41(4,"span",19),t.nrm(5,"i",52),t.EFF(6),t.k0s()()),2&s){const e=t.XpG().$implicit;t.R7$(3),t.Lme("",e.likesCount," ",1===e.likesCount?"Like":"Likes"," "),t.R7$(3),t.Lme("",e.commentsCount," ",1===e.commentsCount?"Comment":"Comments"," ")}}function P(s,r){if(1&s&&(t.j41(0,"div",33)(1,"div",7)(2,"div",34)(3,"span",35),t.nrm(4,"i",36),t.EFF(5),t.k0s(),t.j41(6,"small",19),t.EFF(7),t.k0s()(),t.j41(8,"div",37)(9,"p",38),t.EFF(10),t.k0s(),t.DNE(11,_,1,1,"img",39),t.k0s(),t.DNE(12,v,6,1,"div",40)(13,b,4,2,"div",41)(14,F,7,4,"div",42),t.k0s()()),2&s){const e=r.$implicit,o=t.XpG(2);t.R7$(3),t.Y8G("ngClass",o.getStatusBadgeClass(e.status)),t.R7$(),t.HbH(o.getStatusIcon(e.status)),t.R7$(),t.SpI(" ",o.getStatusText(e.status)," "),t.R7$(2),t.JRh(o.formatDate(e.createdAt)),t.R7$(3),t.JRh(e.content),t.R7$(),t.Y8G("ngIf",e.postImagePath),t.R7$(),t.Y8G("ngIf",e.status===o.PostStatus.Rejected&&e.adminComments),t.R7$(),t.Y8G("ngIf",e.status===o.PostStatus.Approved&&e.approvedAt),t.R7$(),t.Y8G("ngIf",e.status===o.PostStatus.Approved)}}function j(s,r){if(1&s&&(t.j41(0,"div",31),t.DNE(1,P,15,10,"div",32),t.k0s()),2&s){const e=t.XpG();t.R7$(),t.Y8G("ngForOf",e.getFilteredPosts())}}function y(s,r){if(1&s&&(t.j41(0,"div",53),t.nrm(1,"i",54),t.j41(2,"h5",19),t.EFF(3),t.k0s(),t.j41(4,"p",19),t.EFF(5),t.k0s()()),2&s){const e=t.XpG();t.R7$(3),t.SpI("No ",e.selectedFilter," posts"),t.R7$(2),t.SpI("You don't have any ",e.selectedFilter," posts yet.")}}function k(s,r){if(1&s){const e=t.RV6();t.j41(0,"div",55),t.nrm(1,"i",56),t.EFF(2),t.j41(3,"button",57),t.bIt("click",function(){t.eBV(e);const n=t.XpG();return t.Njj(n.loadPosts())}),t.nrm(4,"i",58),t.EFF(5,"Retry "),t.k0s()()}if(2&s){const e=t.XpG();t.R7$(2),t.SpI("",e.errorMessage," ")}}let x=(()=>{class s{constructor(e){this.postService=e,this.posts=[],this.selectedFilter="all",this.isLoading=!1,this.errorMessage="",this.PostStatus=i}ngOnInit(){this.loadPosts()}loadPosts(){this.isLoading=!0,this.errorMessage="",this.postService.getMyPosts().subscribe({next:e=>{this.posts=e,this.isLoading=!1},error:e=>{this.isLoading=!1,this.errorMessage="Failed to load your posts. Please try again.",console.error("Error loading posts:",e)}})}setFilter(e){this.selectedFilter=e}getFilteredPosts(){return"all"===this.selectedFilter?this.posts:this.posts.filter(e=>{switch(this.selectedFilter){case"approved":return e.status===i.Approved;case"pending":return e.status===i.Pending;case"rejected":return e.status===i.Rejected;default:return!0}})}getTotalPosts(){return this.posts.length}getApprovedPosts(){return this.posts.filter(e=>e.status===i.Approved).length}getPendingPosts(){return this.posts.filter(e=>e.status===i.Pending).length}getRejectedPosts(){return this.posts.filter(e=>e.status===i.Rejected).length}getStatusBadgeClass(e){switch(e){case i.Approved:return"bg-success";case i.Pending:return"bg-warning";case i.Rejected:return"bg-danger";default:return"bg-secondary"}}getStatusIcon(e){switch(e){case i.Approved:return"fas fa-check-circle";case i.Pending:return"fas fa-clock";case i.Rejected:return"fas fa-times-circle";default:return"fas fa-question-circle"}}getStatusText(e){switch(e){case i.Approved:return"Approved";case i.Pending:return"Pending Review";case i.Rejected:return"Rejected";default:return"Unknown"}}formatDate(e){const o=new Date(e),a=Math.floor(((new Date).getTime()-o.getTime())/6e4);return a<60?`${a}m ago`:a<1440?`${Math.floor(a/60)}h ago`:a<10080?`${Math.floor(a/1440)}d ago`:o.toLocaleDateString()}static{this.\u0275fac=function(o){return new(o||s)(t.rXU(p.K))}}static{this.\u0275cmp=t.VBU({type:s,selectors:[["app-my-posts"]],standalone:!0,features:[t.aNF],decls:16,vars:7,consts:[[1,"container","mt-4"],[1,"row","justify-content-center"],[1,"col-lg-8"],[1,"card","shadow-sm"],[1,"card-header","bg-primary","text-white"],[1,"mb-0"],[1,"fas","fa-file-alt","me-2"],[1,"card-body"],["class","text-center py-5",4,"ngIf"],["class","row mb-4",4,"ngIf"],["class","mb-4",4,"ngIf"],["class","posts-list",4,"ngIf"],["class","text-center py-4",4,"ngIf"],["class","alert alert-danger",4,"ngIf"],[1,"text-center","py-5"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"],[1,"mt-2","text-muted"],[1,"fas","fa-file-alt","fa-4x","text-muted","mb-3"],[1,"text-muted"],["routerLink","/feed",1,"btn","btn-primary"],[1,"fas","fa-plus","me-2"],[1,"row","mb-4"],[1,"col-md-4"],[1,"stat-card","text-center","p-3","bg-light","rounded"],[1,"text-primary","mb-1"],[1,"text-success","mb-1"],[1,"text-warning","mb-1"],[1,"mb-4"],["role","group",1,"btn-group"],["type","button",1,"btn",3,"click"],[1,"posts-list"],["class","post-card card mb-4",4,"ngFor","ngForOf"],[1,"post-card","card","mb-4"],[1,"d-flex","justify-content-between","align-items-start","mb-3"],[1,"badge",3,"ngClass"],[1,"me-1"],[1,"post-content","mb-3"],[1,"mb-2"],["class","post-image img-fluid rounded","alt","Post image",3,"src",4,"ngIf"],["class","alert alert-warning",4,"ngIf"],["class","approval-info text-muted small",4,"ngIf"],["class","post-stats d-flex gap-3 mt-3 pt-3 border-top",4,"ngIf"],["alt","Post image",1,"post-image","img-fluid","rounded",3,"src"],[1,"alert","alert-warning"],[1,"alert-heading"],[1,"fas","fa-comment-alt","me-2"],[1,"approval-info","text-muted","small"],[1,"fas","fa-check-circle","text-success","me-1"],[4,"ngIf"],[1,"post-stats","d-flex","gap-3","mt-3","pt-3","border-top"],[1,"fas","fa-heart","me-1"],[1,"fas","fa-comment","me-1"],[1,"text-center","py-4"],[1,"fas","fa-filter","fa-3x","text-muted","mb-3"],[1,"alert","alert-danger"],[1,"fas","fa-exclamation-triangle","me-2"],["type","button",1,"btn","btn-sm","btn-outline-danger","ms-2",3,"click"],[1,"fas","fa-retry","me-1"]],template:function(o,n){1&o&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h4",5),t.nrm(6,"i",6),t.EFF(7,"My Posts "),t.k0s()(),t.j41(8,"div",7),t.DNE(9,m,6,0,"div",8)(10,g,9,0,"div",8)(11,u,19,3,"div",9)(12,f,10,16,"div",10)(13,j,2,1,"div",11)(14,y,6,2,"div",12)(15,k,6,1,"div",13),t.k0s()()()()()),2&o&&(t.R7$(9),t.Y8G("ngIf",n.isLoading),t.R7$(),t.Y8G("ngIf",!n.isLoading&&0===n.posts.length),t.R7$(),t.Y8G("ngIf",!n.isLoading&&n.posts.length>0),t.R7$(),t.Y8G("ngIf",!n.isLoading&&n.posts.length>0),t.R7$(),t.Y8G("ngIf",!n.isLoading&&n.getFilteredPosts().length>0),t.R7$(),t.Y8G("ngIf",!n.isLoading&&n.posts.length>0&&0===n.getFilteredPosts().length),t.R7$(),t.Y8G("ngIf",n.errorMessage))},dependencies:[c.MD,c.YU,c.Sq,c.bT],styles:[".post-card[_ngcontent-%COMP%]{border:none;box-shadow:0 2px 4px #0000001a;transition:transform .2s ease,box-shadow .2s ease}.post-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 8px #00000026}.stat-card[_ngcontent-%COMP%]{border:1px solid var(--border-color);transition:transform .2s ease}.stat-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px)}.post-image[_ngcontent-%COMP%]{max-height:300px;object-fit:cover;width:100%}.badge[_ngcontent-%COMP%]{font-size:.875rem;padding:.5rem .75rem}.btn-group[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{border-radius:0}.btn-group[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:first-child{border-top-left-radius:.375rem;border-bottom-left-radius:.375rem}.btn-group[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:last-child{border-top-right-radius:.375rem;border-bottom-right-radius:.375rem}.approval-info[_ngcontent-%COMP%]{background-color:var(--light-bg);padding:.5rem;border-radius:.25rem}@media (max-width: 768px){.container[_ngcontent-%COMP%]{padding:0 1rem}.btn-group[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:.25rem}.btn-group[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{border-radius:.375rem!important;flex:1;min-width:0}.row.mb-4[_ngcontent-%COMP%]{gap:.5rem}.col-md-4[_ngcontent-%COMP%]{flex:1;min-width:0}}"]})}}return s})()}}]);