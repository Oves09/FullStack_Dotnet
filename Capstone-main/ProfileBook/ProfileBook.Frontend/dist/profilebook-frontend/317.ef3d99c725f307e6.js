"use strict";(self.webpackChunkprofilebook_frontend=self.webpackChunkprofilebook_frontend||[]).push([[317],{317:(E,p,i)=>{i.r(p),i.d(p,{MyGroupsComponent:()=>y});var a=i(177),d=i(4341),e=i(4438),m=i(708),c=i(2183);function l(s,n){1&s&&(e.j41(0,"div",12)(1,"div",13)(2,"span",14),e.EFF(3,"Loading groups..."),e.k0s()(),e.j41(4,"p",15),e.EFF(5,"Loading your groups..."),e.k0s()())}function u(s,n){if(1&s&&(e.j41(0,"p",31),e.EFF(1),e.k0s()),2&s){const t=e.XpG().$implicit;e.R7$(),e.JRh(t.description)}}function _(s,n){1&s&&(e.j41(0,"p",31),e.EFF(1,"No description available"),e.k0s())}function g(s,n){if(1&s&&(e.j41(0,"span",37),e.EFF(1),e.k0s()),2&s){const t=n.$implicit;e.Y8G("title",t.firstName+" "+t.lastName),e.R7$(),e.Lme(" ",t.firstName," ",t.lastName," ")}}function f(s,n){if(1&s&&(e.j41(0,"span",38),e.EFF(1),e.k0s()),2&s){const t=e.XpG(2).$implicit;e.R7$(),e.SpI(" +",t.members.length-3," more ")}}function b(s,n){if(1&s&&(e.j41(0,"div",32)(1,"small",33),e.EFF(2,"Members:"),e.k0s(),e.j41(3,"div",34),e.DNE(4,g,2,3,"span",35)(5,f,2,1,"span",36),e.k0s()()),2&s){const t=e.XpG().$implicit;e.R7$(4),e.Y8G("ngForOf",t.members.slice(0,3)),e.R7$(),e.Y8G("ngIf",t.members.length>3)}}function v(s,n){if(1&s){const t=e.RV6();e.j41(0,"div",18)(1,"div",19)(2,"div",20)(3,"h6",21),e.EFF(4),e.k0s(),e.j41(5,"button",22),e.bIt("click",function(){const r=e.eBV(t).$implicit,M=e.XpG(2);return e.Njj(M.openGroupChat(r))}),e.nrm(6,"i",23),e.EFF(7,"Chat "),e.k0s()(),e.j41(8,"div",8),e.DNE(9,u,2,1,"p",24)(10,_,2,0,"p",24),e.j41(11,"div",25)(12,"small",26),e.nrm(13,"i",27),e.EFF(14),e.k0s(),e.j41(15,"small",26),e.EFF(16),e.k0s()(),e.j41(17,"div",28)(18,"small",26),e.nrm(19,"i",29),e.EFF(20),e.k0s()(),e.DNE(21,b,6,2,"div",30),e.k0s()()()}if(2&s){const t=n.$implicit,o=e.XpG(2);e.R7$(4),e.JRh(t.groupName),e.R7$(5),e.Y8G("ngIf",t.description),e.R7$(),e.Y8G("ngIf",!t.description),e.R7$(4),e.SpI("",t.memberCount," members "),e.R7$(2),e.SpI(" Created: ",o.formatDate(t.createdAt)," "),e.R7$(4),e.SpI("Created by: ",t.createdByUserName," "),e.R7$(),e.Y8G("ngIf",t.members&&t.members.length>0)}}function h(s,n){if(1&s&&(e.j41(0,"div",16),e.DNE(1,v,22,7,"div",17),e.k0s()),2&s){const t=e.XpG();e.R7$(),e.Y8G("ngForOf",t.groups)}}function F(s,n){1&s&&(e.j41(0,"div",12),e.nrm(1,"i",39),e.j41(2,"h5",26),e.EFF(3,"No Groups Found"),e.k0s(),e.j41(4,"p",26),e.EFF(5,"You are not a member of any groups yet. Groups are created by administrators."),e.k0s()())}function G(s,n){if(1&s){const t=e.RV6();e.j41(0,"div",40),e.nrm(1,"i",41),e.EFF(2),e.j41(3,"button",42),e.bIt("click",function(){e.eBV(t);const r=e.XpG();return e.Njj(r.errorMessage="")}),e.k0s()()}if(2&s){const t=e.XpG();e.R7$(2),e.SpI("",t.errorMessage," ")}}let y=(()=>{class s{constructor(t,o){this.userGroupsService=t,this.router=o,this.groups=[],this.isLoading=!1,this.errorMessage=""}ngOnInit(){this.loadMyGroups()}loadMyGroups(){this.isLoading=!0,this.errorMessage="",this.userGroupsService.getMyGroups().subscribe({next:t=>{this.groups=t,this.isLoading=!1},error:t=>{this.isLoading=!1,this.errorMessage="Failed to load your groups. Please try again.",console.error("Error loading groups:",t)}})}openGroupChat(t){this.router.navigate(["/group-chat",t.groupId])}formatDate(t){return t?new Date(t).toLocaleDateString():"N/A"}static{this.\u0275fac=function(o){return new(o||s)(e.rXU(m.J),e.rXU(c.Ix))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-my-groups"]],standalone:!0,features:[e.aNF],decls:15,vars:5,consts:[[1,"container","mt-4"],[1,"row","justify-content-center"],[1,"col-lg-10"],[1,"card","shadow-sm"],[1,"card-header","bg-primary","text-white","d-flex","justify-content-between","align-items-center"],[1,"mb-0"],[1,"fas","fa-users","me-2"],[1,"badge","bg-warning","text-dark"],[1,"card-body"],["class","text-center py-5",4,"ngIf"],["class","row",4,"ngIf"],["class","alert alert-danger alert-dismissible fade show",4,"ngIf"],[1,"text-center","py-5"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"],[1,"mt-2","text-muted"],[1,"row"],["class","col-lg-6 mb-4",4,"ngFor","ngForOf"],[1,"col-lg-6","mb-4"],[1,"card","h-100","border-0","shadow-sm"],[1,"card-header","bg-secondary","d-flex","justify-content-between","align-items-center"],[1,"mb-0","text-white"],[1,"btn","btn-warning","btn-sm",3,"click"],[1,"fas","fa-comments","me-1"],["class","text-muted mb-2",4,"ngIf"],[1,"d-flex","justify-content-between","align-items-center","mb-2"],[1,"text-muted"],[1,"fas","fa-users","me-1"],[1,"mb-3"],[1,"fas","fa-user","me-1"],["class","mb-2",4,"ngIf"],[1,"text-muted","mb-2"],[1,"mb-2"],[1,"text-muted","d-block","mb-1"],[1,"d-flex","flex-wrap","gap-1"],["class","badge bg-info",3,"title",4,"ngFor","ngForOf"],["class","badge bg-success text-white",4,"ngIf"],[1,"badge","bg-info",3,"title"],[1,"badge","bg-success","text-white"],[1,"fas","fa-users-slash","fa-4x","text-muted","mb-3"],[1,"alert","alert-danger","alert-dismissible","fade","show"],[1,"fas","fa-exclamation-triangle","me-2"],["type","button",1,"btn-close",3,"click"]],template:function(o,r){1&o&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h4",5),e.nrm(6,"i",6),e.EFF(7,"My Groups "),e.k0s(),e.j41(8,"span",7),e.EFF(9),e.k0s()(),e.j41(10,"div",8),e.DNE(11,l,6,0,"div",9)(12,h,2,1,"div",10)(13,F,6,0,"div",9)(14,G,4,1,"div",11),e.k0s()()()()()),2&o&&(e.R7$(9),e.SpI("",r.groups.length," groups"),e.R7$(2),e.Y8G("ngIf",r.isLoading),e.R7$(),e.Y8G("ngIf",!r.isLoading&&r.groups.length>0),e.R7$(),e.Y8G("ngIf",!r.isLoading&&0===r.groups.length),e.R7$(),e.Y8G("ngIf",r.errorMessage))},dependencies:[a.MD,a.Sq,a.bT,d.YN],styles:[".card[_ngcontent-%COMP%]{transition:transform .2s ease,box-shadow .2s ease}.card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 8px #0000001a!important}.badge[_ngcontent-%COMP%]{font-size:.75rem}@media (max-width: 768px){.container[_ngcontent-%COMP%]{padding:0 1rem}}"]})}}return s})()}}]);