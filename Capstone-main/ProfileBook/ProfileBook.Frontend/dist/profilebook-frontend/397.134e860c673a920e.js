"use strict";(self.webpackChunkprofilebook_frontend=self.webpackChunkprofilebook_frontend||[]).push([[397],{3397:(D,g,d)=>{d.r(g),d.d(g,{UserManagementComponent:()=>S});var c=d(177),l=d(4341),e=d(4438),u=d(7945);function f(r,o){1&r&&(e.j41(0,"div",55)(1,"div",56)(2,"span",57),e.EFF(3,"Loading users..."),e.k0s()(),e.j41(4,"p",58),e.EFF(5,"Loading users..."),e.k0s()())}function h(r,o){1&r&&e.nrm(0,"span",78)}function p(r,o){if(1&r&&e.nrm(0,"i"),2&r){const t=e.XpG().$implicit,i=e.XpG(2);e.HbH("Active"===i.getUserStatus(t.lockoutEnd)?"fas fa-ban":"fas fa-check")}}function _(r,o){1&r&&e.nrm(0,"span",78)}function U(r,o){1&r&&e.nrm(0,"i",79)}function b(r,o){if(1&r){const t=e.RV6();e.j41(0,"tr")(1,"td")(2,"div",63),e.nrm(3,"img",64),e.j41(4,"div")(5,"div",65),e.EFF(6),e.k0s(),e.j41(7,"small",66),e.EFF(8),e.k0s()()()(),e.j41(9,"td"),e.EFF(10),e.k0s(),e.j41(11,"td")(12,"span",67),e.EFF(13),e.k0s()(),e.j41(14,"td"),e.EFF(15),e.k0s(),e.j41(16,"td")(17,"span",67),e.EFF(18),e.k0s()(),e.j41(19,"td")(20,"div",68)(21,"button",69),e.bIt("click",function(){const s=e.eBV(t).$implicit,n=e.XpG(2);return e.Njj(n.viewUser(s))}),e.nrm(22,"i",70),e.k0s(),e.j41(23,"button",71),e.bIt("click",function(){const s=e.eBV(t).$implicit,n=e.XpG(2);return e.Njj(n.editUser(s))}),e.nrm(24,"i",72),e.k0s(),e.j41(25,"button",73),e.bIt("click",function(){const s=e.eBV(t),n=s.$implicit,a=s.index,m=e.XpG(2);return e.Njj(m.toggleUserStatus(n,a))}),e.DNE(26,h,1,0,"span",74)(27,p,1,2,"i",75),e.k0s(),e.j41(28,"button",76),e.bIt("click",function(){const s=e.eBV(t),n=s.$implicit,a=s.index,m=e.XpG(2);return e.Njj(m.deleteUser(n,a))}),e.DNE(29,_,1,0,"span",74)(30,U,1,0,"i",77),e.k0s()()()()}if(2&r){const t=o.$implicit,i=o.index,s=e.XpG(2);e.R7$(3),e.Y8G("src",s.getUserAvatar(t),e.B4B),e.R7$(3),e.JRh(t.fullName||"No Name"),e.R7$(2),e.JRh("@"+t.userName),e.R7$(2),e.JRh(t.email),e.R7$(2),e.Y8G("ngClass",s.getRoleBadgeClass(t.roles)),e.R7$(),e.SpI(" ",s.getUserRole(t.roles)," "),e.R7$(2),e.JRh(s.formatDate(t.createdAt)),e.R7$(2),e.Y8G("ngClass",s.getStatusBadgeClass(t.lockoutEnd)),e.R7$(),e.SpI(" ",s.getUserStatus(t.lockoutEnd)," "),e.R7$(7),e.Y8G("disabled",s.isProcessing[i])("title","Active"===s.getUserStatus(t.lockoutEnd)?"Suspend User":"Activate User"),e.R7$(),e.Y8G("ngIf",s.isProcessing[i]),e.R7$(),e.Y8G("ngIf",!s.isProcessing[i]),e.R7$(),e.Y8G("disabled",s.isProcessing[i]||(null==t.roles?null:t.roles.includes("Admin"))),e.R7$(),e.Y8G("ngIf",s.isProcessing[i]),e.R7$(),e.Y8G("ngIf",!s.isProcessing[i])}}function v(r,o){if(1&r&&(e.j41(0,"div",59)(1,"table",60)(2,"thead",61)(3,"tr")(4,"th"),e.EFF(5,"User"),e.k0s(),e.j41(6,"th"),e.EFF(7,"Email"),e.k0s(),e.j41(8,"th"),e.EFF(9,"Role"),e.k0s(),e.j41(10,"th"),e.EFF(11,"Joined"),e.k0s(),e.j41(12,"th"),e.EFF(13,"Status"),e.k0s(),e.j41(14,"th"),e.EFF(15,"Actions"),e.k0s()()(),e.j41(16,"tbody"),e.DNE(17,b,31,16,"tr",62),e.k0s()()()),2&r){const t=e.XpG();e.R7$(17),e.Y8G("ngForOf",t.paginatedUsers)}}function F(r,o){1&r&&(e.j41(0,"div",55),e.nrm(1,"i",80),e.j41(2,"h5",66),e.EFF(3,"No users found"),e.k0s(),e.j41(4,"p",66),e.EFF(5,"No users match your current search criteria."),e.k0s()())}function k(r,o){if(1&r){const t=e.RV6();e.j41(0,"li",82)(1,"button",83),e.bIt("click",function(){const s=e.eBV(t).$implicit,n=e.XpG(2);return e.Njj(n.changePage(s))}),e.EFF(2),e.k0s()()}if(2&r){const t=o.$implicit,i=e.XpG(2);e.AVh("active",t===i.currentPage),e.R7$(2),e.JRh(t)}}function M(r,o){if(1&r){const t=e.RV6();e.j41(0,"nav")(1,"ul",81)(2,"li",82)(3,"button",83),e.bIt("click",function(){e.eBV(t);const s=e.XpG();return e.Njj(s.changePage(s.currentPage-1))}),e.EFF(4,"Previous"),e.k0s()(),e.DNE(5,k,3,3,"li",84),e.j41(6,"li",82)(7,"button",83),e.bIt("click",function(){e.eBV(t);const s=e.XpG();return e.Njj(s.changePage(s.currentPage+1))}),e.EFF(8,"Next"),e.k0s()()()()}if(2&r){const t=e.XpG();e.R7$(2),e.AVh("disabled",1===t.currentPage),e.R7$(3),e.Y8G("ngForOf",t.getPageNumbers()),e.R7$(),e.AVh("disabled",t.currentPage===t.totalPages)}}function C(r,o){if(1&r){const t=e.RV6();e.j41(0,"div",85),e.nrm(1,"i",86),e.EFF(2),e.j41(3,"button",87),e.bIt("click",function(){e.eBV(t);const s=e.XpG();return e.Njj(s.successMessage="")}),e.k0s()()}if(2&r){const t=e.XpG();e.R7$(2),e.SpI("",t.successMessage," ")}}function E(r,o){if(1&r){const t=e.RV6();e.j41(0,"div",88),e.nrm(1,"i",89),e.EFF(2),e.j41(3,"button",87),e.bIt("click",function(){e.eBV(t);const s=e.XpG();return e.Njj(s.errorMessage="")}),e.k0s()()}if(2&r){const t=e.XpG();e.R7$(2),e.SpI("",t.errorMessage," ")}}function R(r,o){if(1&r&&(e.j41(0,"tr")(1,"th"),e.EFF(2,"Suspended Until:"),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s()()),2&r){const t=e.XpG(2);e.R7$(4),e.JRh(t.formatDate(t.selectedUser.lockoutEnd))}}function N(r,o){if(1&r&&(e.j41(0,"div",90)(1,"div",31)(2,"div",32)(3,"div",33)(4,"h5",34),e.nrm(5,"i",91),e.EFF(6,"User Details "),e.k0s(),e.nrm(7,"button",36),e.k0s(),e.j41(8,"div",38)(9,"div",39)(10,"div",92),e.nrm(11,"img",93),e.j41(12,"h5"),e.EFF(13),e.k0s(),e.j41(14,"p",66),e.EFF(15),e.k0s()(),e.j41(16,"div",94)(17,"table",95)(18,"tr")(19,"th",96),e.EFF(20,"Email:"),e.k0s(),e.j41(21,"td"),e.EFF(22),e.k0s()(),e.j41(23,"tr")(24,"th"),e.EFF(25,"Role:"),e.k0s(),e.j41(26,"td")(27,"span",67),e.EFF(28),e.k0s()()(),e.j41(29,"tr")(30,"th"),e.EFF(31,"Status:"),e.k0s(),e.j41(32,"td")(33,"span",67),e.EFF(34),e.k0s()()(),e.j41(35,"tr")(36,"th"),e.EFF(37,"Bio:"),e.k0s(),e.j41(38,"td"),e.EFF(39),e.k0s()(),e.j41(40,"tr")(41,"th"),e.EFF(42,"Joined:"),e.k0s(),e.j41(43,"td"),e.EFF(44),e.k0s()(),e.DNE(45,R,5,1,"tr",26),e.k0s()()()(),e.j41(46,"div",50)(47,"button",51),e.EFF(48,"Close"),e.k0s()()()()()),2&r){const t=e.XpG();e.R7$(11),e.Y8G("src",t.getUserAvatar(t.selectedUser),e.B4B),e.R7$(2),e.JRh(t.selectedUser.fullName||"No Name"),e.R7$(2),e.JRh("@"+t.selectedUser.userName),e.R7$(7),e.JRh(t.selectedUser.email),e.R7$(5),e.Y8G("ngClass",t.getRoleBadgeClass(t.selectedUser.roles)),e.R7$(),e.SpI(" ",t.getUserRole(t.selectedUser.roles)," "),e.R7$(5),e.Y8G("ngClass",t.getStatusBadgeClass(t.selectedUser.lockoutEnd)),e.R7$(),e.SpI(" ",t.getUserStatus(t.selectedUser.lockoutEnd)," "),e.R7$(5),e.JRh(t.selectedUser.bio||"No bio provided"),e.R7$(5),e.JRh(t.formatDate(t.selectedUser.createdAt)),e.R7$(),e.Y8G("ngIf",t.selectedUser.lockoutEnd)}}function j(r,o){1&r&&(e.j41(0,"div",97),e.EFF(1," First name is required "),e.k0s())}function I(r,o){1&r&&(e.j41(0,"div",97),e.EFF(1," Last name is required "),e.k0s())}function P(r,o){1&r&&(e.j41(0,"div",97),e.EFF(1," Username is required and must be at least 3 characters "),e.k0s())}function $(r,o){1&r&&(e.j41(0,"div",97),e.EFF(1," Valid email is required "),e.k0s())}function w(r,o){1&r&&(e.j41(0,"div",97),e.EFF(1," Password must be at least 6 characters "),e.k0s())}function T(r,o){if(1&r&&(e.j41(0,"div",40)(1,"label",41),e.EFF(2,"Password *"),e.k0s(),e.nrm(3,"input",98),e.DNE(4,w,2,0,"div",43),e.k0s()),2&r){const t=e.XpG();e.R7$(3),e.AVh("is-invalid",t.isFieldInvalid("password")),e.R7$(),e.Y8G("ngIf",t.isFieldInvalid("password"))}}function A(r,o){1&r&&(e.j41(0,"div",97),e.EFF(1," Role is required "),e.k0s())}function G(r,o){1&r&&e.nrm(0,"span",99)}function y(r,o){1&r&&e.nrm(0,"i",100)}let S=(()=>{class r{constructor(t,i){this.fb=t,this.adminService=i,this.users=[],this.filteredUsers=[],this.paginatedUsers=[],this.isLoading=!1,this.isProcessing=[],this.successMessage="",this.errorMessage="",this.selectedUser=null,this.isCreatingUser=!1,this.editingUser=null,this.searchTerm="",this.selectedRole="",this.currentPage=1,this.pageSize=10,this.totalPages=1,this.createUserForm=this.fb.group({firstName:["",[l.k0.required]],lastName:["",[l.k0.required]],userName:["",[l.k0.required,l.k0.minLength(3)]],email:["",[l.k0.required,l.k0.email]],password:["",[l.k0.required,l.k0.minLength(6)]],role:["",[l.k0.required]],bio:[""]})}ngOnInit(){this.loadUsers()}loadUsers(){this.isLoading=!0,this.errorMessage="",this.adminService.getUsers(1,1e3).subscribe({next:t=>{this.users=t.map(i=>({...i,fullName:`${i.firstName||""} ${i.lastName||""}`.trim()||i.userName})),this.filterUsers(),this.isLoading=!1,this.initializeProcessingArray()},error:t=>{this.isLoading=!1,this.errorMessage=401===t.status?"Authentication failed. Please log in as an admin.":403===t.status?"Access denied. Admin privileges required.":"Failed to load users. Please try again.",console.error("Error loading users:",t)}})}initializeProcessingArray(){this.isProcessing=new Array(this.users.length).fill(!1)}onSearchChange(){clearTimeout(this.searchTimeout),this.searchTimeout=setTimeout(()=>{this.filterUsers()},300)}filterUsers(){this.filteredUsers=this.users.filter(t=>{const i=!this.searchTerm||t.fullName?.toLowerCase().includes(this.searchTerm.toLowerCase())||t.userName.toLowerCase().includes(this.searchTerm.toLowerCase())||t.email.toLowerCase().includes(this.searchTerm.toLowerCase()),s=!this.selectedRole||t.roles?.includes(this.selectedRole);return i&&s&&!1!==t.isActive}),this.currentPage=1,this.updatePagination()}updatePagination(){this.totalPages=Math.ceil(this.filteredUsers.length/this.pageSize);const t=(this.currentPage-1)*this.pageSize;this.paginatedUsers=this.filteredUsers.slice(t,t+this.pageSize)}changePage(t){t>=1&&t<=this.totalPages&&(this.currentPage=t,this.updatePagination())}getPageNumbers(){const t=[];let s=Math.max(1,this.currentPage-Math.floor(2.5)),n=Math.min(this.totalPages,s+5-1);n-s<4&&(s=Math.max(1,n-5+1));for(let a=s;a<=n;a++)t.push(a);return t}viewUser(t){this.selectedUser=t;const i=document.getElementById("userDetailsModal");i&&new window.bootstrap.Modal(i).show()}toggleUserStatus(t,i){this.isProcessing[i]=!0,this.errorMessage="",this.successMessage="";const s="Active"===this.getUserStatus(t.lockoutEnd),n=s?"suspend":"activate";this.adminService.toggleUserStatus(t.id,!s).subscribe({next:()=>{this.isProcessing[i]=!1,this.successMessage=`User ${n}d successfully!`,t.lockoutEnd=s?new Date(Date.now()+2592e6):null},error:a=>{this.isProcessing[i]=!1,this.errorMessage=401===a.status?"Authentication failed. Please log in as an admin.":403===a.status?"Access denied. Admin privileges required.":"Failed to update user status. Please try again.",console.error("Error updating user status:",a)}})}deleteUser(t,i){confirm(`Are you sure you want to delete user "${t.fullName||t.userName}"? This action cannot be undone.`)&&(this.isProcessing[i]=!0,this.errorMessage="",this.successMessage="",this.adminService.deleteUser(t.id).subscribe({next:()=>{this.isProcessing[i]=!1,this.successMessage="User deleted successfully!";const s=this.users.findIndex(n=>n.id===t.id);s>-1&&(this.users[s].isActive=!1,this.filterUsers())},error:s=>{this.isProcessing[i]=!1,this.errorMessage=s.error?.message||"Failed to delete user. Please try again.",console.error("Error deleting user:",s)}}))}getUserAvatar(t){return t.profileImagePath?t.profileImagePath:"https://via.placeholder.com/32x32/28a745/ffffff?text="+(t.fullName?.charAt(0)||t.userName.charAt(0)||"U")}getUserRole(t){return t?.includes("Admin")?"Admin":"User"}getRoleBadgeClass(t){return t?.includes("Admin")?"bg-danger":"bg-primary"}getUserStatus(t){if(!t)return"Active";const i=new Date;return new Date(t)>i?"Suspended":"Active"}getStatusBadgeClass(t){return"Active"===this.getUserStatus(t)?"bg-success":"bg-warning"}formatDate(t){return t?new Date(t).toLocaleDateString():"N/A"}showCreateUserModal(){this.editingUser=null,this.createUserForm.reset(),this.createUserForm.get("password")?.setValidators([l.k0.required,l.k0.minLength(6)]),this.createUserForm.get("password")?.updateValueAndValidity();const t=document.getElementById("createUserModal");t&&new window.bootstrap.Modal(t).show()}editUser(t){this.editingUser=t,this.createUserForm.patchValue({firstName:t.firstName,lastName:t.lastName,userName:t.userName,email:t.email,role:this.getUserRole(t.roles),bio:t.bio||""}),this.createUserForm.get("password")?.clearValidators(),this.createUserForm.get("password")?.updateValueAndValidity();const i=document.getElementById("createUserModal");i&&new window.bootstrap.Modal(i).show()}updateUser(){if(this.createUserForm.valid&&this.editingUser){this.isCreatingUser=!0,this.errorMessage="",this.successMessage="";const t={firstName:this.createUserForm.get("firstName")?.value,lastName:this.createUserForm.get("lastName")?.value,userName:this.createUserForm.get("userName")?.value,email:this.createUserForm.get("email")?.value,roles:[this.createUserForm.get("role")?.value],isActive:this.editingUser.isActive??!0};this.adminService.updateUser(this.editingUser.id,t).subscribe({next:i=>{this.isCreatingUser=!1,this.successMessage="User updated successfully!";const s=this.users.findIndex(a=>a.id===this.editingUser.id);s>-1&&(this.users[s]={...i,fullName:`${i.firstName||""} ${i.lastName||""}`.trim()||i.userName},this.filterUsers());const n=document.getElementById("createUserModal");if(n){const a=window.bootstrap.Modal.getInstance(n);a&&a.hide()}},error:i=>{this.isCreatingUser=!1,this.errorMessage=i.error?.message||"Failed to update user. Please try again.",console.error("Error updating user:",i)}})}else this.markFormGroupTouched(this.createUserForm)}createUser(){if(this.createUserForm.valid){this.isCreatingUser=!0,this.errorMessage="",this.successMessage="";const t={firstName:this.createUserForm.get("firstName")?.value,lastName:this.createUserForm.get("lastName")?.value,userName:this.createUserForm.get("userName")?.value,email:this.createUserForm.get("email")?.value,password:this.createUserForm.get("password")?.value,roles:[this.createUserForm.get("role")?.value],bio:this.createUserForm.get("bio")?.value||void 0};this.adminService.createUser(t).subscribe({next:i=>{this.isCreatingUser=!1,this.successMessage="User created successfully!";const s={...i,fullName:`${i.firstName||""} ${i.lastName||""}`.trim()||i.userName};this.users.unshift(s),this.filterUsers();const n=document.getElementById("createUserModal");if(n){const a=window.bootstrap.Modal.getInstance(n);a&&a.hide()}},error:i=>{this.isCreatingUser=!1,this.errorMessage=i.error?.message||"Failed to create user. Please try again.",console.error("Error creating user:",i)}})}else this.markFormGroupTouched(this.createUserForm)}isFieldInvalid(t){const i=this.createUserForm.get(t);return!(!i||!i.invalid||!i.dirty&&!i.touched)}markFormGroupTouched(t){Object.keys(t.controls).forEach(i=>{t.get(i)?.markAsTouched()})}static{this.\u0275fac=function(i){return new(i||r)(e.rXU(l.ok),e.rXU(u.z))}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["app-user-management"]],standalone:!0,features:[e.aNF],decls:94,vars:35,consts:[[1,"container","mt-4"],[1,"row","justify-content-center"],[1,"col-lg-12"],[1,"card","shadow-sm"],[1,"card-header","bg-success","text-white"],[1,"mb-0"],[1,"fas","fa-users","me-2"],[1,"card-body"],[1,"row","mb-4"],[1,"col-md-6"],[1,"input-group"],[1,"input-group-text"],[1,"fas","fa-search"],["type","text","placeholder","Search users by name or email...",1,"form-control",3,"ngModelChange","input","ngModel"],[1,"col-md-3"],[1,"form-select",3,"ngModelChange","change","ngModel"],["value",""],["value","User"],["value","Admin"],[1,"d-flex","gap-2"],[1,"btn","btn-success",3,"click"],[1,"fas","fa-plus","me-2"],[1,"btn","btn-primary",3,"click"],[1,"fas","fa-sync-alt","me-2"],["class","text-center py-5",4,"ngIf"],["class","table-responsive",4,"ngIf"],[4,"ngIf"],["class","alert alert-success alert-dismissible fade show",4,"ngIf"],["class","alert alert-danger alert-dismissible fade show",4,"ngIf"],["class","modal fade","id","userDetailsModal","tabindex","-1",4,"ngIf"],["id","createUserModal","tabindex","-1",1,"modal","fade"],[1,"modal-dialog","modal-lg"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],[1,"me-2"],["type","button","data-bs-dismiss","modal",1,"btn-close"],[3,"ngSubmit","formGroup"],[1,"modal-body"],[1,"row"],[1,"mb-3"],[1,"form-label"],["type","text","formControlName","firstName",1,"form-control"],["class","invalid-feedback",4,"ngIf"],["type","text","formControlName","lastName",1,"form-control"],["type","text","formControlName","userName",1,"form-control"],["type","email","formControlName","email",1,"form-control"],["class","mb-3",4,"ngIf"],["formControlName","role",1,"form-select"],["formControlName","bio","rows","3","placeholder","User bio...",1,"form-control"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["type","submit",1,"btn","btn-success",3,"disabled"],["class","spinner-border spinner-border-sm me-2",4,"ngIf"],["class","fas fa-save me-2",4,"ngIf"],[1,"text-center","py-5"],["role","status",1,"spinner-border","text-success"],[1,"visually-hidden"],[1,"mt-2","text-muted"],[1,"table-responsive"],[1,"table","table-hover"],[1,"table-light"],[4,"ngFor","ngForOf"],[1,"d-flex","align-items-center"],["width","32","height","32","alt","User avatar",1,"rounded-circle","me-2",3,"src"],[1,"fw-medium"],[1,"text-muted"],[1,"badge",3,"ngClass"],[1,"btn-group","btn-group-sm"],["title","View Details",1,"btn","btn-outline-primary",3,"click"],[1,"fas","fa-eye"],["title","Edit User",1,"btn","btn-outline-info",3,"click"],[1,"fas","fa-edit"],[1,"btn","btn-outline-warning",3,"click","disabled","title"],["class","spinner-border spinner-border-sm",4,"ngIf"],[3,"class",4,"ngIf"],["title","Delete User",1,"btn","btn-outline-danger",3,"click","disabled"],["class","fas fa-trash",4,"ngIf"],[1,"spinner-border","spinner-border-sm"],[1,"fas","fa-trash"],[1,"fas","fa-users","fa-4x","text-muted","mb-3"],[1,"pagination","justify-content-center"],[1,"page-item"],[1,"page-link",3,"click"],["class","page-item",3,"active",4,"ngFor","ngForOf"],[1,"alert","alert-success","alert-dismissible","fade","show"],[1,"fas","fa-check-circle","me-2"],["type","button",1,"btn-close",3,"click"],[1,"alert","alert-danger","alert-dismissible","fade","show"],[1,"fas","fa-exclamation-triangle","me-2"],["id","userDetailsModal","tabindex","-1",1,"modal","fade"],[1,"fas","fa-user","me-2"],[1,"col-md-4","text-center","mb-3"],["width","100","height","100","alt","User avatar",1,"rounded-circle","mb-2",3,"src"],[1,"col-md-8"],[1,"table","table-borderless"],["width","30%"],[1,"invalid-feedback"],["type","password","formControlName","password",1,"form-control"],[1,"spinner-border","spinner-border-sm","me-2"],[1,"fas","fa-save","me-2"]],template:function(i,s){1&i&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h4",5),e.nrm(6,"i",6),e.EFF(7,"User Management "),e.k0s()(),e.j41(8,"div",7)(9,"div",8)(10,"div",9)(11,"div",10)(12,"span",11),e.nrm(13,"i",12),e.k0s(),e.j41(14,"input",13),e.mxI("ngModelChange",function(a){return e.DH7(s.searchTerm,a)||(s.searchTerm=a),a}),e.bIt("input",function(){return s.onSearchChange()}),e.k0s()()(),e.j41(15,"div",14)(16,"select",15),e.mxI("ngModelChange",function(a){return e.DH7(s.selectedRole,a)||(s.selectedRole=a),a}),e.bIt("change",function(){return s.filterUsers()}),e.j41(17,"option",16),e.EFF(18,"All Roles"),e.k0s(),e.j41(19,"option",17),e.EFF(20,"Users"),e.k0s(),e.j41(21,"option",18),e.EFF(22,"Admins"),e.k0s()()(),e.j41(23,"div",14)(24,"div",19)(25,"button",20),e.bIt("click",function(){return s.showCreateUserModal()}),e.nrm(26,"i",21),e.EFF(27,"Create User "),e.k0s(),e.j41(28,"button",22),e.bIt("click",function(){return s.loadUsers()}),e.nrm(29,"i",23),e.EFF(30,"Refresh "),e.k0s()()()(),e.DNE(31,f,6,0,"div",24)(32,v,18,1,"div",25)(33,F,6,0,"div",24)(34,M,9,5,"nav",26)(35,C,4,1,"div",27)(36,E,4,1,"div",28),e.k0s()()()()(),e.DNE(37,N,49,11,"div",29),e.j41(38,"div",30)(39,"div",31)(40,"div",32)(41,"div",33)(42,"h5",34),e.nrm(43,"i",35),e.EFF(44),e.k0s(),e.nrm(45,"button",36),e.k0s(),e.j41(46,"form",37),e.bIt("ngSubmit",function(){return s.editingUser?s.updateUser():s.createUser()}),e.j41(47,"div",38)(48,"div",39)(49,"div",9)(50,"div",40)(51,"label",41),e.EFF(52,"First Name *"),e.k0s(),e.nrm(53,"input",42),e.DNE(54,j,2,0,"div",43),e.k0s()(),e.j41(55,"div",9)(56,"div",40)(57,"label",41),e.EFF(58,"Last Name *"),e.k0s(),e.nrm(59,"input",44),e.DNE(60,I,2,0,"div",43),e.k0s()()(),e.j41(61,"div",40)(62,"label",41),e.EFF(63,"Username *"),e.k0s(),e.nrm(64,"input",45),e.DNE(65,P,2,0,"div",43),e.k0s(),e.j41(66,"div",40)(67,"label",41),e.EFF(68,"Email *"),e.k0s(),e.nrm(69,"input",46),e.DNE(70,$,2,0,"div",43),e.k0s(),e.DNE(71,T,5,3,"div",47),e.j41(72,"div",40)(73,"label",41),e.EFF(74,"Role *"),e.k0s(),e.j41(75,"select",48)(76,"option",16),e.EFF(77,"Select Role"),e.k0s(),e.j41(78,"option",17),e.EFF(79,"User"),e.k0s(),e.j41(80,"option",18),e.EFF(81,"Admin"),e.k0s()(),e.DNE(82,A,2,0,"div",43),e.k0s(),e.j41(83,"div",40)(84,"label",41),e.EFF(85,"Bio (Optional)"),e.k0s(),e.nrm(86,"textarea",49),e.k0s()(),e.j41(87,"div",50)(88,"button",51),e.EFF(89,"Cancel"),e.k0s(),e.j41(90,"button",52),e.DNE(91,G,1,0,"span",53)(92,y,1,0,"i",54),e.EFF(93),e.k0s()()()()()()),2&i&&(e.R7$(14),e.R50("ngModel",s.searchTerm),e.R7$(2),e.R50("ngModel",s.selectedRole),e.R7$(15),e.Y8G("ngIf",s.isLoading),e.R7$(),e.Y8G("ngIf",!s.isLoading&&s.filteredUsers.length>0),e.R7$(),e.Y8G("ngIf",!s.isLoading&&0===s.filteredUsers.length),e.R7$(),e.Y8G("ngIf",!s.isLoading&&s.filteredUsers.length>s.pageSize),e.R7$(),e.Y8G("ngIf",s.successMessage),e.R7$(),e.Y8G("ngIf",s.errorMessage),e.R7$(),e.Y8G("ngIf",s.selectedUser),e.R7$(6),e.AVh("fa-user-plus",!s.editingUser)("fa-user-edit",s.editingUser),e.R7$(),e.SpI(" ",s.editingUser?"Edit User":"Create New User"," "),e.R7$(2),e.Y8G("formGroup",s.createUserForm),e.R7$(7),e.AVh("is-invalid",s.isFieldInvalid("firstName")),e.R7$(),e.Y8G("ngIf",s.isFieldInvalid("firstName")),e.R7$(5),e.AVh("is-invalid",s.isFieldInvalid("lastName")),e.R7$(),e.Y8G("ngIf",s.isFieldInvalid("lastName")),e.R7$(4),e.AVh("is-invalid",s.isFieldInvalid("userName")),e.R7$(),e.Y8G("ngIf",s.isFieldInvalid("userName")),e.R7$(4),e.AVh("is-invalid",s.isFieldInvalid("email")),e.R7$(),e.Y8G("ngIf",s.isFieldInvalid("email")),e.R7$(),e.Y8G("ngIf",!s.editingUser),e.R7$(4),e.AVh("is-invalid",s.isFieldInvalid("role")),e.R7$(7),e.Y8G("ngIf",s.isFieldInvalid("role")),e.R7$(8),e.Y8G("disabled",s.createUserForm.invalid||s.isCreatingUser),e.R7$(),e.Y8G("ngIf",s.isCreatingUser),e.R7$(),e.Y8G("ngIf",!s.isCreatingUser),e.R7$(),e.SpI(" ",s.isCreatingUser?s.editingUser?"Updating...":"Creating...":s.editingUser?"Update User":"Create User"," "))},dependencies:[c.MD,c.YU,c.Sq,c.bT,l.X1,l.qT,l.xH,l.y7,l.me,l.wz,l.BC,l.cb,l.j4,l.JD,l.YN,l.vS],styles:[".table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border-top:none;font-weight:600}.btn-group-sm[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:.25rem .5rem}.badge[_ngcontent-%COMP%]{font-size:.75rem}.modal-body[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{color:var(--text-muted);font-weight:500}@media (max-width: 768px){.container[_ngcontent-%COMP%]{padding:0 1rem}.table-responsive[_ngcontent-%COMP%]{font-size:.875rem}.btn-group-sm[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:.125rem .25rem}.btn-group-sm[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.75rem}}"]})}}return r})()}}]);