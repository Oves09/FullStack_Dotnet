"use strict";(self.webpackChunkprofilebook_frontend=self.webpackChunkprofilebook_frontend||[]).push([[464],{3464:(w,d,a)=>{a.r(d),a.d(d,{RegisterComponent:()=>I});var m=a(177),t=a(4341),l=a(2183),e=a(4438),f=a(4796);function u(i,o){1&i&&(e.j41(0,"div",36),e.EFF(1," First name is required "),e.k0s())}function p(i,o){1&i&&(e.j41(0,"div",36),e.EFF(1," Last name is required "),e.k0s())}function c(i,o){1&i&&(e.j41(0,"span"),e.EFF(1,"Email is required"),e.k0s())}function g(i,o){1&i&&(e.j41(0,"span"),e.EFF(1,"Please enter a valid email"),e.k0s())}function _(i,o){if(1&i&&(e.j41(0,"div",36),e.DNE(1,c,2,0,"span",37)(2,g,2,0,"span",37),e.k0s()),2&i){let n,s;const r=e.XpG();e.R7$(),e.Y8G("ngIf",null==(n=r.registerForm.get("email"))||null==n.errors?null:n.errors.required),e.R7$(),e.Y8G("ngIf",null==(s=r.registerForm.get("email"))||null==s.errors?null:s.errors.email)}}function v(i,o){1&i&&(e.j41(0,"div",36),e.EFF(1," Username is required "),e.k0s())}function F(i,o){1&i&&(e.j41(0,"div",36),e.EFF(1," Password must be at least 6 characters "),e.k0s())}function h(i,o){1&i&&(e.j41(0,"span"),e.EFF(1,"Please confirm your password"),e.k0s())}function b(i,o){1&i&&(e.j41(0,"span"),e.EFF(1,"Passwords do not match"),e.k0s())}function E(i,o){if(1&i&&(e.j41(0,"div",36),e.DNE(1,h,2,0,"span",37)(2,b,2,0,"span",37),e.k0s()),2&i){let n,s;const r=e.XpG();e.R7$(),e.Y8G("ngIf",null==(n=r.registerForm.get("confirmPassword"))||null==n.errors?null:n.errors.required),e.R7$(),e.Y8G("ngIf",null==(s=r.registerForm.get("confirmPassword"))||null==s.errors?null:s.errors.passwordMismatch)}}function k(i,o){if(1&i&&(e.j41(0,"div",38),e.nrm(1,"i",39),e.EFF(2),e.k0s()),2&i){const n=e.XpG();e.R7$(2),e.SpI("",n.errorMessage," ")}}function R(i,o){1&i&&e.nrm(0,"span",40)}function C(i,o){1&i&&e.nrm(0,"i",41)}let I=(()=>{class i{constructor(n,s,r){this.fb=n,this.authService=s,this.router=r,this.isLoading=!1,this.errorMessage="",this.registerForm=this.fb.group({firstName:["",[t.k0.required]],lastName:["",[t.k0.required]],email:["",[t.k0.required,t.k0.email]],userName:["",[t.k0.required]],bio:[""],password:["",[t.k0.required,t.k0.minLength(6)]],confirmPassword:["",[t.k0.required]]},{validators:this.passwordMatchValidator})}passwordMatchValidator(n){const s=n.get("password"),r=n.get("confirmPassword");return s&&r&&s.value!==r.value?r.setErrors({passwordMismatch:!0}):r?.errors?.passwordMismatch&&(delete r.errors.passwordMismatch,0===Object.keys(r.errors).length&&r.setErrors(null)),null}isFieldInvalid(n){const s=this.registerForm.get(n);return!(!s||!s.invalid||!s.dirty&&!s.touched)}onSubmit(){this.registerForm.valid?(this.isLoading=!0,this.errorMessage="",this.authService.register(this.registerForm.value).subscribe({next:s=>{this.isLoading=!1,this.router.navigate(["/feed"])},error:s=>{this.isLoading=!1,console.error("Registration error:",s),this.errorMessage=s.message||"Registration failed. Please try again."}})):this.markFormGroupTouched()}markFormGroupTouched(){Object.keys(this.registerForm.controls).forEach(n=>{this.registerForm.get(n)?.markAsTouched()})}static{this.\u0275fac=function(s){return new(s||i)(e.rXU(t.ok),e.rXU(f.u),e.rXU(l.Ix))}}static{this.\u0275cmp=e.VBU({type:i,selectors:[["app-register"]],standalone:!0,features:[e.aNF],decls:59,vars:24,consts:[[1,"auth-container"],[1,"container"],[1,"row","justify-content-center"],[1,"col-md-8","col-lg-6"],[1,"card","shadow-lg"],[1,"card-body","p-5"],[1,"text-center","mb-4"],[1,"h3","mb-3","fw-bold","text-primary"],[1,"fas","fa-users","me-2"],[1,"text-muted"],[3,"ngSubmit","formGroup"],[1,"row"],[1,"col-md-6","mb-3"],["for","firstName",1,"form-label"],["type","text","id","firstName","formControlName","firstName","placeholder","Enter your first name",1,"form-control"],["class","invalid-feedback",4,"ngIf"],["for","lastName",1,"form-label"],["type","text","id","lastName","formControlName","lastName","placeholder","Enter your last name",1,"form-control"],[1,"mb-3"],["for","email",1,"form-label"],["type","email","id","email","formControlName","email","placeholder","Enter your email",1,"form-control"],["for","userName",1,"form-label"],["type","text","id","userName","formControlName","userName","placeholder","Choose a username",1,"form-control"],["for","bio",1,"form-label"],["id","bio","formControlName","bio","rows","3","placeholder","Tell us about yourself...",1,"form-control"],["for","password",1,"form-label"],["type","password","id","password","formControlName","password","placeholder","Create a password",1,"form-control"],["for","confirmPassword",1,"form-label"],["type","password","id","confirmPassword","formControlName","confirmPassword","placeholder","Confirm your password",1,"form-control"],["class","alert alert-danger",4,"ngIf"],["type","submit",1,"btn","btn-primary","w-100","mb-3",3,"disabled"],["class","spinner-border spinner-border-sm me-2",4,"ngIf"],["class","fas fa-user-plus me-2",4,"ngIf"],[1,"text-center"],[1,"mb-0"],["routerLink","/login",1,"text-primary","fw-medium"],[1,"invalid-feedback"],[4,"ngIf"],[1,"alert","alert-danger"],[1,"fas","fa-exclamation-triangle","me-2"],[1,"spinner-border","spinner-border-sm","me-2"],[1,"fas","fa-user-plus","me-2"]],template:function(s,r){1&s&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"h1",7),e.nrm(8,"i",8),e.EFF(9,"ProfileBook "),e.k0s(),e.j41(10,"p",9),e.EFF(11,"Create your account"),e.k0s()(),e.j41(12,"form",10),e.bIt("ngSubmit",function(){return r.onSubmit()}),e.j41(13,"div",11)(14,"div",12)(15,"label",13),e.EFF(16,"First Name"),e.k0s(),e.nrm(17,"input",14),e.DNE(18,u,2,0,"div",15),e.k0s(),e.j41(19,"div",12)(20,"label",16),e.EFF(21,"Last Name"),e.k0s(),e.nrm(22,"input",17),e.DNE(23,p,2,0,"div",15),e.k0s()(),e.j41(24,"div",18)(25,"label",19),e.EFF(26,"Email"),e.k0s(),e.nrm(27,"input",20),e.DNE(28,_,3,2,"div",15),e.k0s(),e.j41(29,"div",18)(30,"label",21),e.EFF(31,"Username"),e.k0s(),e.nrm(32,"input",22),e.DNE(33,v,2,0,"div",15),e.k0s(),e.j41(34,"div",18)(35,"label",23),e.EFF(36,"Bio (Optional)"),e.k0s(),e.nrm(37,"textarea",24),e.k0s(),e.j41(38,"div",11)(39,"div",12)(40,"label",25),e.EFF(41,"Password"),e.k0s(),e.nrm(42,"input",26),e.DNE(43,F,2,0,"div",15),e.k0s(),e.j41(44,"div",12)(45,"label",27),e.EFF(46,"Confirm Password"),e.k0s(),e.nrm(47,"input",28),e.DNE(48,E,3,2,"div",15),e.k0s()(),e.DNE(49,k,3,1,"div",29),e.j41(50,"button",30),e.DNE(51,R,1,0,"span",31)(52,C,1,0,"i",32),e.EFF(53),e.k0s(),e.j41(54,"div",33)(55,"p",34),e.EFF(56," Already have an account? "),e.j41(57,"a",35),e.EFF(58,"Sign in"),e.k0s()()()()()()()()()()),2&s&&(e.R7$(12),e.Y8G("formGroup",r.registerForm),e.R7$(5),e.AVh("is-invalid",r.isFieldInvalid("firstName")),e.R7$(),e.Y8G("ngIf",r.isFieldInvalid("firstName")),e.R7$(4),e.AVh("is-invalid",r.isFieldInvalid("lastName")),e.R7$(),e.Y8G("ngIf",r.isFieldInvalid("lastName")),e.R7$(4),e.AVh("is-invalid",r.isFieldInvalid("email")),e.R7$(),e.Y8G("ngIf",r.isFieldInvalid("email")),e.R7$(4),e.AVh("is-invalid",r.isFieldInvalid("userName")),e.R7$(),e.Y8G("ngIf",r.isFieldInvalid("userName")),e.R7$(9),e.AVh("is-invalid",r.isFieldInvalid("password")),e.R7$(),e.Y8G("ngIf",r.isFieldInvalid("password")),e.R7$(4),e.AVh("is-invalid",r.isFieldInvalid("confirmPassword")),e.R7$(),e.Y8G("ngIf",r.isFieldInvalid("confirmPassword")),e.R7$(),e.Y8G("ngIf",r.errorMessage),e.R7$(),e.Y8G("disabled",r.registerForm.invalid||r.isLoading),e.R7$(),e.Y8G("ngIf",r.isLoading),e.R7$(),e.Y8G("ngIf",!r.isLoading),e.R7$(),e.SpI(" ",r.isLoading?"Creating Account...":"Create Account"," "))},dependencies:[m.MD,m.bT,t.X1,t.qT,t.me,t.BC,t.cb,t.j4,t.JD,l.iI,l.Wk],styles:[".auth-container[_ngcontent-%COMP%]{min-height:100vh;background:linear-gradient(135deg,#667eea,#764ba2);display:flex;align-items:center;padding:2rem 0}.card[_ngcontent-%COMP%]{border:none;border-radius:1rem}.form-control[_ngcontent-%COMP%]{padding:.75rem 1rem;border-radius:.5rem}.btn-primary[_ngcontent-%COMP%]{padding:.75rem;border-radius:.5rem;font-weight:600}.text-primary[_ngcontent-%COMP%]{color:var(--primary-color)!important}textarea.form-control[_ngcontent-%COMP%]{resize:vertical;min-height:80px}@media (max-width: 768px){.auth-container[_ngcontent-%COMP%]{padding:1rem}.card-body[_ngcontent-%COMP%]{padding:2rem!important}}"]})}}return i})()}}]);