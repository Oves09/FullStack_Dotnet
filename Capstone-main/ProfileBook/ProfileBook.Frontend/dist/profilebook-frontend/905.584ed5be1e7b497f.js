"use strict";(self.webpackChunkprofilebook_frontend=self.webpackChunkprofilebook_frontend||[]).push([[905],{1905:(k,l,a)=>{a.r(l),a.d(l,{ReportsComponent:()=>E});var m=a(177),r=a(3252),e=a(4438),c=a(356);function p(n,i){1&n&&(e.j41(0,"div",12)(1,"div",13)(2,"span",14),e.EFF(3,"Loading your reports..."),e.k0s()(),e.j41(4,"p",15),e.EFF(5,"Loading your reports..."),e.k0s()())}function g(n,i){1&n&&(e.j41(0,"div",12),e.nrm(1,"i",16),e.j41(2,"h5",17),e.EFF(3,"No reports submitted"),e.k0s(),e.j41(4,"p",17),e.EFF(5,"You haven't submitted any reports yet."),e.k0s(),e.j41(6,"a",18),e.nrm(7,"i",19),e.EFF(8,"Find Users "),e.k0s()())}function f(n,i){if(1&n&&(e.j41(0,"div",20)(1,"div",21)(2,"div",22)(3,"h3",23),e.EFF(4),e.k0s(),e.j41(5,"small",17),e.EFF(6,"Total Reports"),e.k0s()()(),e.j41(7,"div",21)(8,"div",22)(9,"h3",24),e.EFF(10),e.k0s(),e.j41(11,"small",17),e.EFF(12,"Pending"),e.k0s()()(),e.j41(13,"div",21)(14,"div",22)(15,"h3",25),e.EFF(16),e.k0s(),e.j41(17,"small",17),e.EFF(18,"Resolved"),e.k0s()()(),e.j41(19,"div",21)(20,"div",22)(21,"h3",26),e.EFF(22),e.k0s(),e.j41(23,"small",17),e.EFF(24,"Dismissed"),e.k0s()()()()),2&n){const t=e.XpG();e.R7$(4),e.JRh(t.getTotalReports()),e.R7$(6),e.JRh(t.getPendingReports()),e.R7$(6),e.JRh(t.getResolvedReports()),e.R7$(6),e.JRh(t.getDismissedReports())}}function v(n,i){if(1&n&&(e.j41(0,"div",37)(1,"strong"),e.EFF(2,"Description:"),e.k0s(),e.j41(3,"p",48),e.EFF(4),e.k0s()()),2&n){const t=e.XpG().$implicit;e.R7$(4),e.JRh(t.description)}}function u(n,i){if(1&n&&(e.j41(0,"span"),e.EFF(1),e.k0s()),2&n){const t=e.XpG(2).$implicit;e.R7$(),e.SpI(" by ",t.reviewedByUserName,"")}}function _(n,i){if(1&n&&(e.j41(0,"div",49)(1,"div",50)(2,"h6",51),e.nrm(3,"i",52),e.EFF(4,"Admin Response "),e.k0s(),e.j41(5,"p",33),e.EFF(6),e.k0s(),e.j41(7,"small",17),e.EFF(8),e.DNE(9,u,2,1,"span",53),e.k0s()()()),2&n){const t=e.XpG().$implicit,s=e.XpG(2);e.R7$(),e.Y8G("ngClass",s.getAdminResponseClass(t.status)),e.R7$(5),e.JRh(t.adminNotes),e.R7$(2),e.SpI(" Reviewed ",s.formatDate(t.reviewedAt)," "),e.R7$(),e.Y8G("ngIf",t.reviewedByUserName)}}function R(n,i){1&n&&(e.j41(0,"div",43),e.nrm(1,"div",54),e.j41(2,"div",45)(3,"small",17),e.EFF(4,"Under Review"),e.k0s(),e.j41(5,"div",46),e.EFF(6,"In Progress"),e.k0s()()())}function h(n,i){if(1&n&&(e.j41(0,"div",43),e.nrm(1,"div",55),e.j41(2,"div",45)(3,"small",17),e.EFF(4),e.k0s(),e.j41(5,"div",46),e.EFF(6),e.k0s()()()),2&n){const t=e.XpG().$implicit,s=e.XpG(2);e.R7$(),e.Y8G("ngClass",s.getTimelineMarkerClass(t.status)),e.R7$(3),e.JRh(s.getStatusText(t.status)),e.R7$(2),e.JRh(s.formatDate(t.reviewedAt))}}function F(n,i){if(1&n&&(e.j41(0,"div",29)(1,"div",7)(2,"div",30)(3,"div",31)(4,"div",32)(5,"div")(6,"h6",33),e.EFF(7," Report against "),e.j41(8,"strong"),e.EFF(9),e.k0s()(),e.j41(10,"small",17),e.EFF(11),e.k0s()(),e.j41(12,"span",34),e.nrm(13,"i",35),e.EFF(14),e.k0s()(),e.j41(15,"div",36)(16,"div",37)(17,"strong"),e.EFF(18,"Reason:"),e.k0s(),e.j41(19,"span",38),e.EFF(20),e.k0s()(),e.DNE(21,v,5,1,"div",39),e.k0s(),e.DNE(22,_,10,4,"div",40),e.k0s(),e.j41(23,"div",41)(24,"div",42)(25,"div",43),e.nrm(26,"div",44),e.j41(27,"div",45)(28,"small",17),e.EFF(29,"Submitted"),e.k0s(),e.j41(30,"div",46),e.EFF(31),e.k0s()()(),e.DNE(32,R,7,0,"div",47)(33,h,7,3,"div",47),e.k0s()()()()()),2&n){const t=i.$implicit,s=e.XpG(2);e.R7$(9),e.JRh(t.reportedUserFullName),e.R7$(2),e.JRh("@"+t.reportedUserName),e.R7$(),e.Y8G("ngClass",s.getStatusBadgeClass(t.status)),e.R7$(),e.HbH(s.getStatusIcon(t.status)),e.R7$(),e.SpI(" ",s.getStatusText(t.status)," "),e.R7$(6),e.JRh(t.reason),e.R7$(),e.Y8G("ngIf",t.description),e.R7$(),e.Y8G("ngIf",t.adminNotes&&t.status!==s.ReportStatus.Pending),e.R7$(9),e.JRh(s.formatDate(t.timeStamp)),e.R7$(),e.Y8G("ngIf",t.status===s.ReportStatus.UnderReview),e.R7$(),e.Y8G("ngIf",t.reviewedAt)}}function b(n,i){if(1&n&&(e.j41(0,"div",27),e.DNE(1,F,34,12,"div",28),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.Y8G("ngForOf",t.reports)}}function C(n,i){if(1&n){const t=e.RV6();e.j41(0,"div",56),e.nrm(1,"i",57),e.EFF(2),e.j41(3,"button",58),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.loadReports())}),e.nrm(4,"i",59),e.EFF(5,"Retry "),e.k0s()()}if(2&n){const t=e.XpG();e.R7$(2),e.SpI("",t.errorMessage," ")}}let E=(()=>{class n{constructor(t){this.reportService=t,this.reports=[],this.isLoading=!1,this.errorMessage="",this.ReportStatus=r.n}ngOnInit(){this.loadReports()}loadReports(){this.isLoading=!0,this.errorMessage="",this.reportService.getMyReports().subscribe({next:t=>{this.reports=t,this.isLoading=!1},error:t=>{this.isLoading=!1,this.errorMessage="Failed to load your reports. Please try again.",console.error("Error loading reports:",t)}})}getTotalReports(){return this.reports.length}getPendingReports(){return this.reports.filter(t=>t.status===r.n.Pending||t.status===r.n.UnderReview).length}getResolvedReports(){return this.reports.filter(t=>t.status===r.n.Resolved).length}getDismissedReports(){return this.reports.filter(t=>t.status===r.n.Dismissed).length}getStatusBadgeClass(t){switch(t){case r.n.Pending:return"bg-warning";case r.n.UnderReview:return"bg-info";case r.n.Resolved:return"bg-success";default:return"bg-secondary"}}getStatusIcon(t){switch(t){case r.n.Pending:return"fas fa-clock";case r.n.UnderReview:return"fas fa-search";case r.n.Resolved:return"fas fa-check-circle";case r.n.Dismissed:return"fas fa-times-circle";default:return"fas fa-question-circle"}}getStatusText(t){switch(t){case r.n.Pending:return"Pending";case r.n.UnderReview:return"Under Review";case r.n.Resolved:return"Resolved";case r.n.Dismissed:return"Dismissed";default:return"Unknown"}}getAdminResponseClass(t){switch(t){case r.n.Resolved:return"alert-success";case r.n.Dismissed:return"alert-secondary";default:return"alert-info"}}getTimelineMarkerClass(t){switch(t){case r.n.Resolved:return"bg-success";case r.n.Dismissed:return"bg-secondary";default:return"bg-info"}}formatDate(t){const s=new Date(t),d=Math.floor(((new Date).getTime()-s.getTime())/6e4);return d<60?`${d}m ago`:d<1440?`${Math.floor(d/60)}h ago`:d<10080?`${Math.floor(d/1440)}d ago`:s.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}static{this.\u0275fac=function(s){return new(s||n)(e.rXU(c.G))}}static{this.\u0275cmp=e.VBU({type:n,selectors:[["app-reports"]],standalone:!0,features:[e.aNF],decls:14,vars:5,consts:[[1,"container","mt-4"],[1,"row","justify-content-center"],[1,"col-lg-10"],[1,"card","shadow-sm"],[1,"card-header","bg-primary","text-white"],[1,"mb-0"],[1,"fas","fa-flag","me-2"],[1,"card-body"],["class","text-center py-5",4,"ngIf"],["class","row mb-4",4,"ngIf"],["class","reports-list",4,"ngIf"],["class","alert alert-danger",4,"ngIf"],[1,"text-center","py-5"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"],[1,"mt-2","text-muted"],[1,"fas","fa-flag","fa-4x","text-muted","mb-3"],[1,"text-muted"],["routerLink","/search",1,"btn","btn-primary"],[1,"fas","fa-search","me-2"],[1,"row","mb-4"],[1,"col-md-3"],[1,"stat-card","text-center","p-3","bg-light","rounded"],[1,"text-primary","mb-1"],[1,"text-warning","mb-1"],[1,"text-success","mb-1"],[1,"text-secondary","mb-1"],[1,"reports-list"],["class","report-card card mb-3",4,"ngFor","ngForOf"],[1,"report-card","card","mb-3"],[1,"row"],[1,"col-md-8"],[1,"d-flex","justify-content-between","align-items-start","mb-3"],[1,"mb-1"],[1,"badge",3,"ngClass"],[1,"me-1"],[1,"report-details","mb-3"],[1,"mb-2"],[1,"ms-2","badge","bg-secondary"],["class","mb-2",4,"ngIf"],["class","admin-response",4,"ngIf"],[1,"col-md-4"],[1,"report-timeline"],[1,"timeline-item"],[1,"timeline-marker","bg-primary"],[1,"timeline-content"],[1,"fw-medium"],["class","timeline-item",4,"ngIf"],[1,"mb-0","mt-1","text-muted"],[1,"admin-response"],[1,"alert",3,"ngClass"],[1,"alert-heading"],[1,"fas","fa-user-shield","me-2"],[4,"ngIf"],[1,"timeline-marker","bg-warning"],[1,"timeline-marker",3,"ngClass"],[1,"alert","alert-danger"],[1,"fas","fa-exclamation-triangle","me-2"],["type","button",1,"btn","btn-sm","btn-outline-danger","ms-2",3,"click"],[1,"fas","fa-retry","me-1"]],template:function(s,o){1&s&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h4",5),e.nrm(6,"i",6),e.EFF(7,"My Reports "),e.k0s()(),e.j41(8,"div",7),e.DNE(9,p,6,0,"div",8)(10,g,9,0,"div",8)(11,f,25,4,"div",9)(12,b,2,1,"div",10)(13,C,6,1,"div",11),e.k0s()()()()()),2&s&&(e.R7$(9),e.Y8G("ngIf",o.isLoading),e.R7$(),e.Y8G("ngIf",!o.isLoading&&0===o.reports.length),e.R7$(),e.Y8G("ngIf",!o.isLoading&&o.reports.length>0),e.R7$(),e.Y8G("ngIf",!o.isLoading&&o.reports.length>0),e.R7$(),e.Y8G("ngIf",o.errorMessage))},dependencies:[m.MD,m.YU,m.Sq,m.bT],styles:['.report-card[_ngcontent-%COMP%]{border:none;box-shadow:0 2px 4px #0000001a;transition:transform .2s ease,box-shadow .2s ease}.report-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 8px #00000026}.stat-card[_ngcontent-%COMP%]{border:1px solid var(--border-color);transition:transform .2s ease}.stat-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px)}.badge[_ngcontent-%COMP%]{font-size:.875rem;padding:.5rem .75rem}.report-timeline[_ngcontent-%COMP%]{position:relative;padding-left:1.5rem}.timeline-item[_ngcontent-%COMP%]{position:relative;padding-bottom:1.5rem}.timeline-item[_ngcontent-%COMP%]:not(:last-child):before{content:"";position:absolute;left:-1.4rem;top:1rem;width:2px;height:calc(100% - .5rem);background-color:var(--border-color)}.timeline-marker[_ngcontent-%COMP%]{position:absolute;left:-1.75rem;top:.25rem;width:.75rem;height:.75rem;border-radius:50%;border:2px solid white;box-shadow:0 0 0 2px var(--border-color)}.timeline-content[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{font-size:.75rem}.admin-response[_ngcontent-%COMP%]   .alert[_ngcontent-%COMP%]{margin-bottom:0}.alert-heading[_ngcontent-%COMP%]{font-size:.9rem;margin-bottom:.5rem}@media (max-width: 768px){.container[_ngcontent-%COMP%]{padding:0 1rem}.row.mb-4[_ngcontent-%COMP%]{gap:.5rem}.col-md-3[_ngcontent-%COMP%]{flex:1;min-width:0;margin-bottom:.5rem}.report-card[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{flex-direction:column}.report-timeline[_ngcontent-%COMP%]{margin-top:1rem;padding-top:1rem;border-top:1px solid var(--border-color)}}']})}}return n})()}}]);